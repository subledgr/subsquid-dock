module.exports = class Data1703688329398 {
    name = 'Data1703688329398'

    async up(db) {
        await db.query(`DROP INDEX IF EXISTS "public"."idx_transfer_block_number"`)
        await db.query(`DROP INDEX IF EXISTS "public"."idx_transfer_timestamp"`)
        await db.query(`DROP INDEX IF EXISTS "public"."idx_transfer_extrinsic_hash"`)
        await db.query(`DROP INDEX IF EXISTS "public"."idx_transfer_from_id"`)
        await db.query(`DROP INDEX IF EXISTS "public"."idx_transfer_to_id"`)
        await db.query(`DROP INDEX IF EXISTS "public"."idx_transfer_amount"`)
        await db.query(`DROP INDEX IF EXISTS "public"."transfer_chain_id"`)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "hash" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_f8fba63d7965bfee9f304c487a" ON "block" ("hash") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `)
        await db.query(`CREATE TABLE IF NOT EXISTS "chain_event" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "index" integer NOT NULL, "extrinsic_id" text NOT NULL, "section" text NOT NULL, "method" text NOT NULL, "data" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_bf9ed42a9e16d2f12d0d4cd8b76" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_3f1014440770c93775ddb88e5e" ON "chain_event" ("block_number") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_d2545a678eab6b54a2eb268155" ON "chain_event" ("index") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_857834db3f19bc613ba1c1aa57" ON "chain_event" ("extrinsic_id") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_beefc507384786979ae2b72e2b" ON "chain_event" ("section") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_4c5967500c0f140f0542f4ab8d" ON "chain_event" ("method") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_927e1183238064c13fe83f7773" ON "chain_event" ("data") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_8b8569c28a7acd314378ab49e8" ON "chain_event" ("timestamp") `)
        await db.query(`CREATE TABLE IF NOT EXISTS "extrinsic" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "index" integer NOT NULL, "hash" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "signer" text NOT NULL, "section" text NOT NULL, "method" text NOT NULL, "fee" numeric NOT NULL, "success" boolean, CONSTRAINT "PK_80d7db0e4b1e83e30336bc76755" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_142f352835c698a35eacbeb2f5" ON "extrinsic" ("block_number") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_91b0c68a28f1eed15d736d7e11" ON "extrinsic" ("index") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_1f45de0713a55049009e8e8127" ON "extrinsic" ("hash") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_6e232918078798b1fade21dcf8" ON "extrinsic" ("timestamp") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_001ddf290faf765f9dfd9154d3" ON "extrinsic" ("signer") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_f27ce26722a5bff4dad664d4cb" ON "extrinsic" ("section") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_fee06ac3db4d6eaeab04d0e5eb" ON "extrinsic" ("method") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_21e5db7671dfa1b00dbe6dbbd6" ON "extrinsic" ("success") `)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "chain_id"`)
        // await db.query(`ALTER TABLE "transfer" ADD "chain_id" text NOT NULL`)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "extrinsic_id"`)
        // await db.query(`ALTER TABLE "transfer" ADD "extrinsic_id" text NOT NULL`)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "section"`)
        // await db.query(`ALTER TABLE "transfer" ADD "section" text NOT NULL`)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "method"`)
        // await db.query(`ALTER TABLE "transfer" ADD "method" text NOT NULL`)
        await db.query(`ALTER TABLE "transfer" ALTER COLUMN "fee" SET NOT NULL`)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_f1f1143749d9fd473890b77054" ON "transfer" ("chain_id") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_d6624eacc30144ea97915fe846" ON "transfer" ("block_number") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_70ff8b624c3118ac3a4862d22c" ON "transfer" ("timestamp") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_06f5863364b6acc2e315ceba39" ON "transfer" ("extrinsic_id") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_070c555a86b0b41a534a55a659" ON "transfer" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_bcc6914a42a381e5baeb0b144f" ON "transfer" ("section") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_d2592e40ba2366307a0b3e6883" ON "transfer" ("method") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_76bdfed1a7eb27c6d8ecbb7349" ON "transfer" ("from_id") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_0751309c66e97eac9ef1149362" ON "transfer" ("to_id") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "IDX_f4007436c1b546ede08a4fd7ab" ON "transfer" ("amount") `)
    }

    async down(db) {
        await db.query(`CREATE INDEX IF NOT EXISTS "idx_transfer_block_number" ON "transfer" ("block_number") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "idx_transfer_timestamp" ON "transfer" ("timestamp") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "idx_transfer_extrinsic_hash" ON "transfer" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "idx_transfer_from_id" ON "transfer" ("from_id") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "idx_transfer_to_id" ON "transfer" ("to_id") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "idx_transfer_amount" ON "transfer" ("amount") `)
        await db.query(`CREATE INDEX IF NOT EXISTS "transfer_chain_id" ON "transfer" ("chain_id") `)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_f8fba63d7965bfee9f304c487a"`)
        await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`)
        await db.query(`DROP TABLE "chain_event"`)
        await db.query(`DROP INDEX "public"."IDX_3f1014440770c93775ddb88e5e"`)
        await db.query(`DROP INDEX "public"."IDX_d2545a678eab6b54a2eb268155"`)
        await db.query(`DROP INDEX "public"."IDX_857834db3f19bc613ba1c1aa57"`)
        await db.query(`DROP INDEX "public"."IDX_beefc507384786979ae2b72e2b"`)
        await db.query(`DROP INDEX "public"."IDX_4c5967500c0f140f0542f4ab8d"`)
        await db.query(`DROP INDEX "public"."IDX_927e1183238064c13fe83f7773"`)
        await db.query(`DROP INDEX "public"."IDX_8b8569c28a7acd314378ab49e8"`)
        await db.query(`DROP TABLE "extrinsic"`)
        await db.query(`DROP INDEX "public"."IDX_142f352835c698a35eacbeb2f5"`)
        await db.query(`DROP INDEX "public"."IDX_91b0c68a28f1eed15d736d7e11"`)
        await db.query(`DROP INDEX "public"."IDX_1f45de0713a55049009e8e8127"`)
        await db.query(`DROP INDEX "public"."IDX_6e232918078798b1fade21dcf8"`)
        await db.query(`DROP INDEX "public"."IDX_001ddf290faf765f9dfd9154d3"`)
        await db.query(`DROP INDEX "public"."IDX_f27ce26722a5bff4dad664d4cb"`)
        await db.query(`DROP INDEX "public"."IDX_fee06ac3db4d6eaeab04d0e5eb"`)
        await db.query(`DROP INDEX "public"."IDX_21e5db7671dfa1b00dbe6dbbd6"`)
        // await db.query(`ALTER TABLE "transfer" ADD "chain_id" character varying(32)`)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "chain_id"`)
        // await db.query(`ALTER TABLE "transfer" ADD "extrinsic_id" character varying(32)`)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "extrinsic_id"`)
        // await db.query(`ALTER TABLE "transfer" ADD "section" character varying(32)`)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "section"`)
        // await db.query(`ALTER TABLE "transfer" ADD "method" character varying(32)`)
        // await db.query(`ALTER TABLE "transfer" DROP COLUMN "method"`)
        await db.query(`ALTER TABLE "transfer" ALTER COLUMN "fee" DROP NOT NULL`)
        await db.query(`DROP INDEX "public"."IDX_f1f1143749d9fd473890b77054"`)
        await db.query(`DROP INDEX "public"."IDX_d6624eacc30144ea97915fe846"`)
        await db.query(`DROP INDEX "public"."IDX_70ff8b624c3118ac3a4862d22c"`)
        await db.query(`DROP INDEX "public"."IDX_06f5863364b6acc2e315ceba39"`)
        await db.query(`DROP INDEX "public"."IDX_070c555a86b0b41a534a55a659"`)
        await db.query(`DROP INDEX "public"."IDX_bcc6914a42a381e5baeb0b144f"`)
        await db.query(`DROP INDEX "public"."IDX_d2592e40ba2366307a0b3e6883"`)
        await db.query(`DROP INDEX "public"."IDX_76bdfed1a7eb27c6d8ecbb7349"`)
        await db.query(`DROP INDEX "public"."IDX_0751309c66e97eac9ef1149362"`)
        await db.query(`DROP INDEX "public"."IDX_f4007436c1b546ede08a4fd7ab"`)
    }
}
